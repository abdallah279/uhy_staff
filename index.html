<!DOCTYPE html>
<html lang="ar">
<!-- (en و ar) ما بين (lang) عشان تغيير اللغه غيير-->

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UHY STAFF</title>
    <link rel="shortcut icon" href="./assets/imgs/logo.png" type="image/x-icon">
    <!-- Icons -->
    <link rel="stylesheet" href="./assets/plugins/fontawesome-free-6.2.0-web/css/all.min.css">
    <!-- Bootstrap 5 -->
    <link rel="stylesheet" href="./assets/plugins/bootstrap/bootstrap.rtl.min.css">
    <!-- Select 2 -->
    <link rel="stylesheet" href="./assets/plugins/select2/select2.min.css">
    <!-- fancybox -->
    <link rel="stylesheet" href="./assets/plugins/FancyBox/jquery.fancybox.min.css">
    <!-- FlatPicker -->
    <link rel="stylesheet" href="./assets/plugins/FlatPicker/flatpickr.css">
    <!-- DataTables -->
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/v/bs5/jq-3.6.0/dt-1.12.1/b-2.2.3/r-2.3.0/datatables.min.css"/>
    <link rel="stylesheet" href="https://cdn.datatables.net/buttons/2.2.3/css/buttons.dataTables.min.css">
    <!-- Style Css -->
    <link rel="stylesheet" href="./assets/css/main.css">
</head>

<body>

    <!-- ************** start to loader ************** -->
    <div class="loader-container">
        <span class="loader"></span>
    </div>
    <!-- ************** End to loader ************** -->



    <!-- ************** Start Navbar ************** -->
    <nav class="navbar-m nav_style main-padding-right">
        <div class="container ">
            <div class="navbar-content">

                <div class="d-flex align-items-center gap-2">
                    <h1 class="fs17 ff-b">الرئيسية</h1>
                </div>

                <div class="left-sec">
                    <a href="notifications.html" class="not_link">
                        <img src="./assets/imgs/icons/notification.gif" alt="" class="ic">
                        <span class='count'>2</span>
                    </a>
                    <div class="not_link side-open" id='open_links'>
                        <img src="./assets/imgs/icons/menu.gif" alt="" class="ic">
                    </div>
                </div>

            </div>
        </div>

    </nav>
    <div class="nav-overlay"></div>
    <!-- ************** End Navbar ************** -->



    <!-- ************** Start Sidebar ************** -->
    <div class="sidebar-m">

        <a href="index.html" class="logo nav_style">
            <img src="./assets/imgs/logo.png" alt="logo" class="img">
        </a>

        <div class='profile px-4 d-flex align-items-center gap-3'>
            <img src="./assets/imgs/profile_img.jpg" alt="" class="circle_img">
            <div class="left">
                <h5 class="fs15 ff-d mb-1">عبدالله زكريا</h5>
                <p class="fs14">مدير النظام</p>
            </div>
        </div>

        <ul class="links">

            <a href="index.html" class="link">
                <img class="side-icon" src="assets/imgs/icons/home.gif" alt="">
                <span class="text">الرئيسية</span>
            </a>

            <div class="link head">
                <img class="side-icon" src="assets/imgs/icons/sales.gif" alt="">
                <span class="text">المبيعات</span>
            </div>

            <a href="sales_clients.html" class="link">
                <span class="text">العملاء</span>
            </a>

            <a href="Sales_customer_record.html" class="link">
                <span class="text">سجل العملاء</span>
            </a>

            <a href="sales_prices_offers.html" class="link">
                <span class="text">عروض الأسعار</span>
            </a>

            <div class="link head">
                <img class="side-icon" src="assets/imgs/icons/system.gif" alt="">
                <span class="text">اعدادات</span>
            </div>

            <a href="settings_users.html" class="link">
                <span class="text">المستخدمين</span>
            </a>

            <a href="user_privileges.html" class="link">
                <span class="text">امتيازات المستخدم</span>
            </a>

            <a href="concerned_administration.html" class="link">
                <span class="text">الادارة المعنية</span>
            </a>

            <a href="partner_hours.html" class="link">
                <span class="text">ساعات الشريك</span>
            </a>

            <div class="link head">
                <img class="side-icon" src="assets/imgs/icons/user.gif" alt="">
                <span class="text">نائب الرئيس</span>
            </div>

            <a href="sales_prices_offers.html" class="link">
                <span class="text">عروض الأسعار</span>
            </a>

            <a href="president_engagement_letters.html" class="link">
                <span class="text">خطابات الارتباط</span>
            </a>

            <a href="letters_directed.html" class="link">
                <span class="text">خطابات موجه لأدارة معنية</span>
            </a>

            <a href="engagement_letter_tasks.html" class="link">
                <span class="text">مهام خطابات الارتباطات</span>
            </a>

            <div class="link head">
                <img class="side-icon" src="assets/imgs/icons/wallet.gif" alt="">
                <span class="text">التفاصيل المالية</span>
            </div>

            <a href="payment_engagement_letter.html" class="link">
                <span class="text">دفع خطاب الارتباط</span>
            </a>

            <a href="payment_history.html" class="link">
                <span class="text">سجل المدفوعات</span>
            </a>

            <div class="link head">
                <img class="side-icon" src="assets/imgs/icons/user.gif" alt="">
                <span class="text">سكرتير</span>
            </div>

            <a href="sales_prices_offers.html" class="link">
                <span class="text">عروض السعر</span>
            </a>

            <a href="president_engagement_letters.html" class="link">
                <span class="text">خطاب الارتباط</span>
            </a>

            <a href="president_engagement_letters.html" class="link">
                <span class="text">ارفاق النهائى</span>
            </a>

            <div class="link head">
                <img class="side-icon" src="assets/imgs/icons/business.gif" alt="">
                <span class="text">شريك</span>
            </div>

            <a href="president_engagement_letters.html" class="link">
                <span class="text">خطاب الارتباط</span>
            </a>

            <a href="president_engagement_letters.html" class="link">
                <span class="text">اغلاق العمل</span>
            </a>

            <div class="link head">
                <img class="side-icon" src="assets/imgs/icons/verified.gif" alt="">
                <span class="text">الجودة ما قبل الاصدار</span>
            </div>

            <a href="president_engagement_letters.html" class="link">
                <span class="text">خطابات الارتباط</span>
            </a>

            <div class="link head">
                <img class="side-icon" src="assets/imgs/icons/checklist.gif" alt="">
                <span class="text">التقرير</span>
            </div>

            <a href="sales_clients.html" class="link">
                <span class="text">العملاء</span>
            </a>

            <div class="link head">
                <img class="side-icon" src="assets/imgs/icons/system.gif" alt="">
                <span class="text">الاعدادات العامة</span>
            </div>

            <a href="collaborators.html" class="link">
                <span class="text">المتعاونين</span>
            </a>

            <a href="activities.html" class="link">
                <span class="text">النشاطات</span>
            </a>

            <a href="services.html" class="link">
                <span class="text">الخدمات</span>
            </a>

            <a href="tax_amount.html" class="link">
                <span class="text">قيمة الضريبة</span>
            </a>

            <a href="branches.html" class="link">
                <span class="text">الفروع</span>
            </a>

            <a href="hourly_price.html" class="link">
                <span class="text">سعر الساعة</span>
            </a>

        </ul>

    </div>
    <!-- ************** End Sidebar ************** -->



    <!-- ************** Start main Section ************** -->
    <div class="main-sec sec-padding main-padding-right">
        <div class="container">

            <form class='filter_con mb-4'>

                <div class='filter_item main-input'>
                    <i class="fa-regular fa-calendar-days main-icon"></i>
                    <input class='input-me' id='calender' placeholder='اختر التاريخ' />
                    <i class="fa-solid fa-angle-down sec-icon"></i>
                </div>

                <div class='filter_item main-input'>
                    <i class="fa-solid fa-magnifying-glass main-icon"></i>
                    <input class='input-me' id='searchTable' placeholder='ابحث باسم العميل او البائع او المتعاون' />
                </div>

                <button type="submit" class="main-btn sec up">بحث</button>

            </form>

            <section class='row gy-4 mb-5'>

                <div class='col-xl-3 col-lg-4 col-sm-6'>
                    <div class="home_card h-100">
                        <div class="ff-d c-black lh">عدد عروض الأسعار</div>
                        <div class="te c-black fs18 ff-d">239K</div>
                    </div>
                </div>

                <div class='col-xl-3 col-lg-4 col-sm-6'>
                    <div class="home_card h-100">
                        <div class="ff-d c-black lh">عدد عروض الأسعار هذا الشهر </div>
                        <div class="te c-black fs18 ff-d">1,156</div>
                    </div>
                </div>

                <div class='col-xl-3 col-lg-4 col-sm-6'>
                    <div class="home_card h-100">
                        <div class="ff-d c-black lh">عروض بانتظار موافقة المدير التنفيذي</div>
                        <div class="te c-black fs18 ff-d">367</div>
                    </div>
                </div>

                <div class='col-xl-3 col-lg-4 col-sm-6'>
                    <div class="home_card h-100">
                        <div class="ff-d c-black lh">عروض بانتظار موافقة العملاء</div>
                        <div class="te c-black fs18 ff-d">239</div>
                    </div>
                </div>

                <div class='col-xl-3 col-lg-4 col-sm-6'>
                    <div class="home_card sec h-100">
                        <div class="ff-d c-black lh">عدد خطابات الأرتباط</div>
                        <div class="te c-black fs18 ff-d">239</div>
                    </div>
                </div>

                <div class='col-xl-3 col-lg-4 col-sm-6'>
                    <div class="home_card sec h-100">
                        <div class="ff-d c-black lh">خطابات ارتباط تم اعتمادها من المدير</div>
                        <div class="te c-black fs18 ff-d">239</div>
                    </div>
                </div>

                <div class='col-xl-3 col-lg-4 col-sm-6'>
                    <div class="home_card sec h-100">
                        <div class="ff-d c-black lh">خطابات ارتباط تم اعتمادها من العملاء</div>
                        <div class="te c-black fs18 ff-d">239</div>
                    </div>
                </div>

                <div class='col-xl-3 col-lg-4 col-sm-6'>
                    <div class="home_card sec h-100">
                        <div class="ff-d c-black lh">عروض بانتظار موافقة المدير التنفيذي</div>
                        <div class="te c-black fs18 ff-d">239</div>
                    </div>
                </div>

            </section>

            <section class="row mb-5 gy-4 pb-2">

                <div class="col-lg-6">
                    <div class="card_style p-sm-4 px-3 py-4 h-100">
                        <h4 class="fs16 ff-d mb-5">عروض الأسعار هذا الشهر</h4>
                        <div id="offersMonth" class='offersMonth'></div>

                        <div class="mt-4">
                            <div class="legend_item">
                                <span class='color'></span>
                                <span class="fs13 ff-d">عروض تم تحويله الخطاب ارتباط</span>
                            </div>

                            <div class="legend_item">
                                <span class='color color2'></span>
                                <span class="fs13 ff-d">عروض لم يتم تحويل هالخطاب ارتباط</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-lg-6">
                    <div class="card_style p-sm-4 px-3 py-4 h-100">
                        <h4 class="fs16 ff-d mb-5">عروض الأسعار اخر 6 اشهر</h4>
                        <div id="offers6months"></div>

                        <div class="mt-4">
                            <div class="legend_item">
                                <span class='color'></span>
                                <span class="fs13 ff-d">عروض تم تحويله الخطاب ارتباط</span>
                            </div>

                            <div class="legend_item">
                                <span class='color color2'></span>
                                <span class="fs13 ff-d">عروض لم يتم تحويل هالخطاب ارتباط</span>
                            </div>
                        </div>

                    </div>
                </div>

            </section>

            <!-- Start Data Table -->

            <section class="card_style p-4 mb-5">
                <div class="d-flex-between gap-4 flex-wrap mb-5">
                    <h4 class="fs16 ff-d">بيانات خطابات الارتباطات الحالية</h4>
                    <a href="#" class="main_link">مشاهدة الكل</a>
                </div>
                <div class="data">
                    <table id="myTable" class="display table" dir="rtl">
                        <thead>
                            <tr>
                                <th>رقم</th>
                                <th>اسم العميل</th>
                                <th>حالة الدفع</th>
                                <th>وقت البداية</th>
                                <th>وقت الأنتهاء</th>
                                <th>التقدم</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>1</td>
                                <td>شركة الحمد للتجارة والتوزيع</td>
                                <td>تم الدفع</td>
                                <td>3 يناير 2021</td>
                                <td>3 يناير 2021</td>
                                <td>
                                    <span class="badge_m">بانتظار اعداد الخطاب وتحديد الشريك</span>
                                </td>
                            </tr>
                            <tr>
                                <td>1</td>
                                <td>شركة الحمد للتجارة والتوزيع</td>
                                <td>تم الدفع</td>
                                <td>3 يناير 2021</td>
                                <td>3 يناير 2021</td>
                                <td>
                                    <span class="badge_m wait">بانتظار اعتماد V.P</span>
                                </td>
                            </tr>
                            <tr>
                                <td>1</td>
                                <td>شركة الحمد للتجارة والتوزيع</td>
                                <td>تم الدفع</td>
                                <td>3 يناير 2021</td>
                                <td>3 يناير 2021</td>
                                <td>
                                    <span class="badge_m yellow">بانتظار اعتماد الشريك</span>
                                </td>
                            </tr>
                            <tr>
                                <td>1</td>
                                <td>شركة الحمد للتجارة والتوزيع</td>
                                <td>تم الدفع</td>
                                <td>3 يناير 2021</td>
                                <td>3 يناير 2021</td>
                                <td>
                                    <span class="badge_m yellow">بانتظار أرساله للعميل</span>
                                </td>
                            </tr>
                            <tr>
                                <td>1</td>
                                <td>شركة الحمد للتجارة والتوزيع</td>
                                <td>تم الدفع</td>
                                <td>3 يناير 2021</td>
                                <td>3 يناير 2021</td>
                                <td>
                                    <span class="badge_m red">بانتظار اعتماد للعميل</span>
                                </td>
                            </tr>
                            <tr>
                                <td>1</td>
                                <td>شركة الحمد للتجارة والتوزيع</td>
                                <td>تم الدفع</td>
                                <td>3 يناير 2021</td>
                                <td>3 يناير 2021</td>
                                <td>
                                    <span class="badge_m red">بانتظار توجيه للإدارة المعنية ورفع الماليات</span>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <section class="card_style p-sm-4 px-3 py-4 mb-5">
                <div class='d-flex justify-content-between flex-md-row gap-4 flex-column'>
                    <div>
                        <h4 class="fs16 ff-d mb-5">مبالغ خطابات الأرتباط الحالية</h4>
                        <div class="mb-3">
                            <div class="fs14 mb-3"> المبالغ الكلية المحصلة لحالات الأرتباط الحالية</div>
                            <div class="fs20 c-three ff-d">9834.72 ر.س</div>
                        </div>
                        <div class="d-flex gap-sm-5 gap-4">
                            <div>
                                <div class="fs14 mb-3"> المبلغ الكلي المحصل</div>
                                <div class="fs20 c-three ff-d">9834.72 ر.س</div>
                            </div>
                            <div>
                                <div class="fs14 mb-3"> المبلغ الكلي المتبقي</div>
                                <div class="fs20 c-three ff-d">9834.72 ر.س</div>
                            </div>
                        </div>
                    </div>
                    <canvas id="commitmentLetterAmounts" width="390" height="280"></canvas>
                </div>
            </section>

            <section class="card_style p-sm-4 px-3 py-4">
                <h4 class="fs16 ff-d mb-5">عدد خطابات الارتباطات الحالية وحالتهم</h4>
                <div id="numberEngagementLetters"></div>
            </section>

        </div>
    </div>
    <!-- ************** End main Section ************** -->


    <!-- Bootstrap 5 -->
    <script src="./assets/plugins/bootstrap/bootstrap.bundle.min.js"></script>
    <!-- Jquery -->
    <script src="./assets/plugins/jquery/jquery-3.5.1.min.js"></script>
    <!-- Select 2 -->
    <script src="./assets/plugins/select2/select2.js"></script>
    <!-- fancybox -->
    <script src="./assets/plugins/FancyBox/jquery.fancybox.min.js"></script>
    <!-- FlatPicker -->
    <script src="./assets/plugins/FlatPicker/flatpickr.js"></script>
    <!-- Chart -->
    <script src="./assets/plugins/apexChart/apexcharts.min.js"></script>
    <!-- Datatables -->
    <script type="text/javascript" src="https://cdn.datatables.net/v/bs5/jq-3.6.0/dt-1.12.1/b-2.2.3/r-2.3.0/datatables.min.js"></script>

    <!-- Price offers this month Chart -->
    <script>
        var options = {
            series: [70],
            colors: ['#000'],
            chart: {
                height: 340,
                type: 'radialBar',
            },
            plotOptions: {
                radialBar: {
                    hollow: {
                        size: '60%',
                    },
                    track: {
                        background: '#EEEEEE',
                    },
                    dataLabels: {
                        name: {
                            show: false,
                        },
                        value: {
                            color: "#272727",
                            fontSize: "26px",
                            show: true
                        }
                    }
                },
            },
            fill: {
                type: 'solid',
                colors: ['#0077b6'],
            },
            stroke: {
                lineCap: 'round'
            },

        };

        var chart = new ApexCharts(document.querySelector("#offersMonth"), options);
        chart.render();
    </script>

    <!-- Price offers for the last 6 months -->
    <script>
        var options2 = {
            series: [{
                name: 'عروض الأسعار اخر 6 اشهر',
                data: [44, 55, 41, 67, 22, 60]
            }],
            chart: {
                height: 300,
                type: 'bar',
                toolbar: {
                    show: false,
                },
            },
            plotOptions: {
                bar: {
                    columnWidth: '50%',
                }
            },
            // legend: {
            //     show: true,
            //     horizontalAlign: 'left',
            //     showForSingleSeries: true,
            //     position: 'bottom',
            //     customLegendItems: ['عروض تم تحويله الخطاب ارتباط', 'عروض لم يتم تحويل هالخطاب ارتباط'],
            //     markers: {
            //         fillColors: ['#0077B6', '#03045E'],
            //         width: 22,
            //         height: 12,
            //         radius: 7,
            //     },
            // },
            dataLabels: {
                enabled: false
            },
            stroke: {
                width: 0
            },
            xaxis: {
                categories: ['Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jun'],
                tickPlacement: 'on'
            },
            fill: {
                colors: ['#03045E'],
                type: 'gradient',
                gradient: {
                    shade: 'light',
                    type: "horizontal",
                    shadeIntensity: 1,
                    gradientToColors: ['#0077B6'],
                    inverseColors: true,
                    opacityFrom: 1,
                    opacityTo: 1,
                    stops: [50, 0, 100],
                },
            },
            grid: {
                show: true,
                borderColor: '#e4e4e438',
            }
        };

        var chart2 = new ApexCharts(document.querySelector("#offers6months"), options2);
        chart2.render();
    </script>

    <!-- Current commitment letter amounts -->
    <script>
        var myColor = ["#0077b6", "#0096c7"];
        var myData = [80, 20];

        function getTotal() {
            var myTotal = 0;
            for (var j = 0; j < myData.length; j++) {
                myTotal += typeof myData[j] == "number" ? myData[j] : 0;
            }
            return myTotal;
        }

        function plotData() {
            var canvas;
            var ctx;
            var lastend = 0;
            var myTotal = getTotal();
            var doc;
            canvas = document.getElementById("commitmentLetterAmounts");
            var x = canvas.width / 2;
            var y = canvas.height / 2;
            var r = 100;

            ctx = canvas.getContext("2d");
            ctx.clearRect(0, 0, canvas.width, canvas.height);

            for (var i = 0; i < myData.length; i++) {
                ctx.fillStyle = myColor[i];
                ctx.beginPath();
                ctx.moveTo(x, y);
                ctx.arc(
                    x,
                    y,
                    r,
                    lastend,
                    lastend + Math.PI * 2 * (myData[i] / myTotal),
                    false
                );
                ctx.lineTo(x, y);
                ctx.fill();

                // Now the pointers
                ctx.beginPath();
                var start = [];
                var end = [];
                var last = 0;
                var flip = 0;
                var textOffset = 0;
                var precentage = (myData[i] / myTotal) * 100;
                start = getPoint(
                    x,
                    y,
                    r - -10,
                    lastend + (Math.PI * 2 * (myData[i] / myTotal)) / 2
                );
                end = getPoint(
                    x,
                    y,
                    r + 30,
                    lastend + (Math.PI * 2 * (myData[i] / myTotal)) / 2
                );

                if (start[0] <= x) {
                    flip = -1;
                    textOffset = -25;
                } else {
                    flip = 1;
                    textOffset = 55;
                }

                ctx.moveTo(start[0], start[1]);
                ctx.lineTo(end[0], end[1]);
                ctx.lineTo(end[0] + 20 * flip, end[1]);
                ctx.strokeStyle = "#272727";
                ctx.fillStyle = "#000";
                ctx.lineWidth = 1;
                ctx.textAlign = "start";
                ctx.stroke();
                // The labels
                ctx.font = "14px verdana, sans-serif";
                ctx.fillText(`${myData[i]}%`, end[0] + textOffset, end[1] + 4);
                // Increment Loop
                lastend += Math.PI * 2 * (myData[i] / myTotal);
            }
        }

        // Find that magical point
        function getPoint(c1, c2, radius, angle) {
            return [c1 + Math.cos(angle) * radius, c2 + Math.sin(angle) * radius];
        }

        // The drawing
        plotData();

    </script>

    <!-- The number of current engagement letters and their status -->
    <script>
        var options4 = {
            series: [{
                name: 'عدد خطابات الارتباطات الحالية وحالتهم',
                data: [15, 22, 26, 20, 15, 18]
            }],
            chart: {
                height: 350,
                type: 'bar',
                toolbar: {
                    show: false,
                },
            },
            plotOptions: {
                bar: {
                    borderRadius: 8,
                    columnWidth: '10%',
                    dataLabels: {
                        position: 'top',
                    },
                }
            },
            dataLabels: {
                enabled: true,
                offsetY: -30,
                style: {
                    fontSize: '14px',
                    colors: ["#707E8C"]
                }
            },
            fill: {
                type: 'solid',
                colors: ['#023E8A'],
            },
            xaxis: {
                categories: ["بانتظار توجيه للإدارة المعنية ورفع الماليات", "بانتظار اعتماد للعميل", "بانتظار أرساله للعميل", "بانتظار اعتماد الشريك", "بانتظار اعتماد V.P", "بانتظار اعداد الخطاب وتحديد الشريك"],
                position: 'bottom',
                axisBorder: {
                    show: false
                },
                axisTicks: {
                    show: false
                },
                tooltip: {
                    enabled: true,
                },
                labels: {
                    show: true,
                    rotate: 0,
                    trim: true,
                    hideOverlappingLabels: true,
                    style: {
                        colors: ['#272727'],
                        fontSize: '12px',
                        cssClass: 'apexcharts-xaxis-label',
                    },
                }
            },
            yaxis: {
                show: false,
            },
            grid: {
                show: false,
            }
        };

        var chart4 = new ApexCharts(document.querySelector("#numberEngagementLetters"), options4);
        chart4.render();
    </script>

    <!-- Flat Picker -->
    <script>
        flatpickr("#calender", {
            disableMobile: "true",
            mode: "range",
            dateFormat: "Y-m-d",
        });
    </script>

    <!-- Main Js -->
    <script src="./assets/js/main.js"></script>
</body>

</html>